<!DOCTYPE html>
<!-- saved from url=(0067)https://cdpn.io/Alca/fullembedgrid/gzxXLq?animations=run&type=embed -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111">



  
    <script src="./stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js.download"></script>


  <title>Cascading Waves</title>

    <link rel="canonical" href="https://codepen.io/Alca/pen/gzxXLq">
  
  
  
  
<style>
html,
body {
  margin: 0;
  overflow: hidden;
  background-color: #141414;
}
</style>

  
  
  
</head>

<body translate="no">
  <script>
  window.canvasOptions = {
  	autoClear: true,
  	autoCompensate: false,
  	autoPushPop: true,
  	canvas: true,
  	centered: true,
  	width: null,
  	height: null
  };
</script>
  <script src="./XeZBab.js.download"></script><canvas id="canvas" width="758" height="418"></canvas>
<script src="./simplex-noise.js.download"></script>
      <script id="rendered-js">
let noise = new SimplexNoise();

function draw(e) {
  let xCount = 35;
  let yCount = 80;
  let iXCount = 1 / (xCount - 1);
  let iYCount = 1 / (yCount - 1);
  let time = e * 0.001;
  let timeStep = 0.01;
  let grad = ctx.createLinearGradient(-width, 0, width, height);
  let t = time % 1;
  let tSide = floor(time % 2) === 0;
  let hueA = tSide ? 340 : 210;
  let hueB = !tSide ? 340 : 210;
  let colorA = hsl(hueA, 100, 50);
  let colorB = hsl(hueB, 100, 50);
  grad.addColorStop(map(t, 0, 1, THIRD, ZERO), colorA);
  grad.addColorStop(map(t, 0, 1, TWO_THIRDS, THIRD), colorB);
  grad.addColorStop(map(t, 0, 1, ONE, TWO_THIRDS), colorA);
  ctx.globalAlpha = map(cos(time), -1, 1, 0.15, 0.3);
  background(grad);
  ctx.globalAlpha = 1;
  beginPath();
  for (let j = 0; j < yCount; j++) {if (window.CP.shouldStopExecution(0)) break;
    let tj = j * iYCount;
    let c = cos(tj * TAU + time) * 0.1;
    for (let i = 0; i < xCount; i++) {if (window.CP.shouldStopExecution(1)) break;
      let t = i * iXCount;
      let n = noise.noise3D(t, time, c);
      let y = n * height_half;
      let x = t * (width + 20) - width_half - 10;
      (i ? lineTo : moveTo)(x, y);
    }window.CP.exitedLoop(1);
    time += timeStep;
  }window.CP.exitedLoop(0);
  compositeOperation(compOper.lighter);
  ctx.filter = 'blur(10px)';
  stroke(grad, 5);
  ctx.filter = 'blur(5px)';
  stroke(hsl(0, 0, 100, 0.8), 2);
}
//# sourceURL=pen.js
    </script>

  
  <script src="./iframeRefreshCSS-44fe83e49b63affec96918c9af88c0d80b209a862cf87ac46bc933074b8c557d.js.download"></script>



</body></html>